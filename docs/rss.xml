<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>feeday</title><link>https://feeday.cn</link><description>BB Work No Money</description><copyright>feeday</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://feeday.cn</link></image><lastBuildDate>Sun, 20 Jul 2025 05:07:05 +0000</lastBuildDate><managingEditor>feeday</managingEditor><ttl>60</ttl><webMaster>feeday</webMaster><item><title>å›¾åƒç›´æ–¹å›¾åœ¨çº¿è°ƒèŠ‚</title><link>https://feeday.cn/post/tu-xiang-zhi-fang-tu-zai-xian-diao-jie.html</link><description>```
&lt;!DOCTYPE html&gt;
&lt;html lang='zh-CN'&gt;
&lt;head&gt;
&lt;meta charset='UTF-8'&gt;
&lt;title&gt;åœ¨çº¿å›¾åƒç›´æ–¹å›¾ä¸è°ƒæ•´&lt;/title&gt;
&lt;style&gt;
body { font-family: sans-serif; padding: 20px; max-width: 1000px; margin: auto; }
#controls { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
.control-group { display: flex; align-items: center; }
.control-group label { width: 80px; }
.control-group input[type=range] { flex: 1; margin: 0 10px; }
.control-group input[type=number] { width: 60px; }
canvas { border: 1px solid #ccc; display: block; margin-bottom: 20px; }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h2&gt;åœ¨çº¿å›¾åƒç›´æ–¹å›¾ä¸è°ƒæ•´&lt;/h2&gt;
&lt;input type='file' id='fileInput' accept='image/*'&gt;
&lt;div id='controls'&gt;
&lt;div class='control-group'&gt;
&lt;label for='exposureRange'&gt;æ›å…‰&lt;/label&gt;
&lt;input type='range' id='exposureRange' min='-2' max='2' step='0.1' value='0'&gt;
&lt;input type='number' id='exposureNumber' min='-2' max='2' step='0.1' value='0'&gt;
&lt;/div&gt;
&lt;div class='control-group'&gt;
&lt;label for='contrastRange'&gt;å¯¹æ¯”åº¦&lt;/label&gt;
&lt;input type='range' id='contrastRange' min='-1' max='1' step='0.05' value='0'&gt;
&lt;input type='number' id='contrastNumber' min='-1' max='1' step='0.05' value='0'&gt;
&lt;/div&gt;
&lt;div class='control-group'&gt;
&lt;label for='highlightsRange'&gt;é«˜å…‰&lt;/label&gt;
&lt;input type='range' id='highlightsRange' min='-1' max='1' step='0.05' value='0'&gt;
&lt;input type='number' id='highlightsNumber' min='-1' max='1' step='0.05' value='0'&gt;
&lt;/div&gt;
&lt;div class='control-group'&gt;
&lt;label for='shadowsRange'&gt;é˜´å½±&lt;/label&gt;
&lt;input type='range' id='shadowsRange' min='-1' max='1' step='0.05' value='0'&gt;
&lt;input type='number' id='shadowsNumber' min='-1' max='1' step='0.05' value='0'&gt;
&lt;/div&gt;
&lt;div class='control-group'&gt;
&lt;label for='whitesRange'&gt;ç™½è‰²&lt;/label&gt;
&lt;input type='range' id='whitesRange' min='-1' max='1' step='0.05' value='0'&gt;
&lt;input type='number' id='whitesNumber' min='-1' max='1' step='0.05' value='0'&gt;
&lt;/div&gt;
&lt;div class='control-group'&gt;
&lt;label for='blacksRange'&gt;é»‘è‰²&lt;/label&gt;
&lt;input type='range' id='blacksRange' min='-1' max='1' step='0.05' value='0'&gt;
&lt;input type='number' id='blacksNumber' min='-1' max='1' step='0.05' value='0'&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;canvas id='previewCanvas' width='800' height='600'&gt;&lt;/canvas&gt;
&lt;canvas id='histCanvas' width='800' height='200'&gt;&lt;/canvas&gt;

&lt;!-- å¼•å…¥ Chart.js --&gt;
&lt;script src='https://cdn.jsdelivr.net/npm/chart.js'&gt;&lt;/script&gt;
&lt;script&gt;
let originalImageData = null;
const previewCanvas = document.getElementById('previewCanvas');
const previewCtx = previewCanvas.getContext('2d');
const histCanvas = document.getElementById('histCanvas');
const histCtx = histCanvas.getContext('2d');
let histChart = null;

// è¯»å–æ§ä»¶å…ƒç´ 
const controls = ['exposure','contrast','highlights','shadows','whites','blacks'];
const state = {};
controls.forEach(name =&gt; {
state[name] = 0;
const rangeEl = document.getElementById(name + 'Range');
const numEl = document.getElementById(name + 'Number');
// åŒæ­¥æ»‘å—å’Œæ•°å­—
rangeEl.addEventListener('input', () =&gt; { numEl.value = rangeEl.value; updateState(); });
numEl.addEventListener('input', () =&gt; { rangeEl.value = numEl.value; updateState(); });
});

document.getElementById('fileInput').addEventListener('change', (e) =&gt; {
const file = e.target.files[0];
if (!file) return;
const img = new Image();
img.onload = () =&gt; {
// è°ƒæ•´ç”»å¸ƒå¤§å°
previewCanvas.width = img.width;
previewCanvas.height = img.height;
previewCtx.drawImage(img, 0, 0);
originalImageData = previewCtx.getImageData(0, 0, img.width, img.height);
applyAdjustments();
};
img.src = URL.createObjectURL(file);
});

function updateState() {
controls.forEach(name =&gt; {
state[name] = parseFloat(document.getElementById(name + 'Number').value);
});
applyAdjustments();
}

function applyAdjustments() {
if (!originalImageData) return;
const imgData = new ImageData(
new Uint8ClampedArray(originalImageData.data),
originalImageData.width,
originalImageData.height
);
const data = imgData.data;
const {exposure, contrast, highlights, shadows, whites, blacks} = state;
for (let i = 0; i &lt; data.length; i += 4) {
let r = data[i] / 255;
let g = data[i+1] / 255;
let b = data[i+2] / 255;
// äº®åº¦
const lum = 0.2126*r + 0.7152*g + 0.0722*b;
// æ›å…‰ï¼š2^EV
const evFactor = Math.pow(2, exposure);
r *= evFactor; g *= evFactor; b *= evFactor;
// å¯¹æ¯”åº¦
const cFactor = contrast + 1;
r = (r - 0.5) * cFactor + 0.5;
g = (g - 0.5) * cFactor + 0.5;
b = (b - 0.5) * cFactor + 0.5;
// é«˜å…‰/é˜´å½±
if (lum &gt; 0.5) {
const factor = (lum - 0.5) * 2;
r += highlights * factor;
g += highlights * factor;
b += highlights * factor;
} else {
const factor = (0.5 - lum) * 2;
r += shadows * factor;
g += shadows * factor;
b += shadows * factor;
}
// ç™½è‰²/é»‘è‰²å‰ªåˆ‡
if (lum &gt; 0.8) {
const factor = (lum - 0.8) * 5;
r += whites * factor; g += whites * factor; b += whites * factor;
}
if (lum &lt; 0.2) {
const factor = (0.2 - lum) * 5;
r -= blacks * factor; g -= blacks * factor; b -= blacks * factor;
}
// é™å¹…
data[i]   = Math.min(255, Math.max(0, r * 255));
data[i+1] = Math.min(255, Math.max(0, g * 255));
data[i+2] = Math.min(255, Math.max(0, b * 255));
}
// æ›´æ–°é¢„è§ˆ
previewCtx.putImageData(imgData, 0, 0);
updateHistogram(imgData);
}

function updateHistogram(imageData) {
const bins = 256;
const counts = new Array(bins).fill(0);
const data = imageData.data;
for (let i = 0; i &lt; data.length; i += 4) {
// ç°åº¦å€¼
const lum = Math.round(0.299*data[i] + 0.587*data[i+1] + 0.114*data[i+2]);
counts[lum]++;
}
const labels = counts.map((_,i) =&gt; i);
if (!histChart) {
histChart = new Chart(histCtx, {
type: 'bar',
data: {
labels,
datasets: [{ label: 'åƒç´ æ•°', data: counts, backgroundColor: 'rgba(0,0,0,0.5)' }]
},
options: {
responsive: true,
scales: { x: { display: false }, y: { beginAtZero: true } },
plugins: { legend: { display: false } }
}
});
} else {
histChart.data.datasets[0].data = counts;
histChart.update();
}
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
````ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/tu-xiang-zhi-fang-tu-zai-xian-diao-jie.html</guid><pubDate>Sun, 20 Jul 2025 04:49:40 +0000</pubDate></item><item><title>å›¾åƒåˆ†ç±»è„šæœ¬</title><link>https://feeday.cn/post/tu-xiang-fen-lei-jiao-ben.html</link><description>## ResNet50
```
import subprocess
import sys

# è‡ªåŠ¨å®‰è£…ä¾èµ–
def install_packages():
    packages = ['torch', 'torchvision', 'pillow', 'pandas', 'openpyxl', 'requests']
    for pkg in packages:
        try:
            __import__(pkg)
        except ImportError:
            subprocess.check_call([sys.executable, '-m', 'pip', 'install', pkg])

install_packages()

# === å¯¼å…¥ä¾èµ– ===
import os
import shutil
import torch
from torchvision import models, transforms
from PIL import Image
import pandas as pd
from collections import defaultdict
import requests

# === å›¾åƒé¢„å¤„ç†ï¼ˆImageNetï¼‰===
transform = transforms.Compose([
    transforms.Resize(256),
    transforms.CenterCrop(224),
    transforms.ToTensor(),
    transforms.Normalize(
        mean=[0.485, 0.456, 0.406],
        std=[0.229, 0.224, 0.225]
    )
])

# === åŠ è½½ ResNet50 æ¨¡å‹ ===
model = models.resnet50(pretrained=True)
model.eval()

# === åŠ è½½ç±»åˆ«æ ‡ç­¾ ===
# https://raw.githubusercontent.com/pytorch/hub/master/imagenet_classes.txt

LABELS_PATH = r'g:\Dataset\Image\COCO_Annotations\imagenet_classes.txt'
with open(LABELS_PATH, 'r', encoding='utf-8') as f:
    labels = f.read().strip().split('\n')


# === å•å¼ å›¾åƒåˆ†ç±» ===
def classify_image(image_path):
    image = Image.open(image_path).convert('RGB')
    input_tensor = transform(image).unsqueeze(0)
    with torch.no_grad():
        output = model(input_tensor)
        probs = torch.nn.functional.softmax(output[0], dim=0)
        top1_prob, top1_class = torch.topk(probs, 1)
    return labels[top1_class.item()], top1_prob.item()

# === åˆ†ç±»ä¸»æµç¨‹ ===
def organize_images_by_class(src_dir, dst_dir):
    records = []
    class_counts = defaultdict(int)

    for fname in os.listdir(src_dir):
        if not fname.lower().endswith(('.jpg', '.jpeg', '.png', '.bmp', '.png')):
            continue

        img_path = os.path.join(src_dir, fname)
        predicted_class, prob = classify_image(img_path)
        class_folder = os.path.join(dst_dir, predicted_class)
        os.makedirs(class_folder, exist_ok=True)

        shutil.copy(img_path, os.path.join(class_folder, fname))
        records.append({
            'æ–‡ä»¶å': fname,
            'é¢„æµ‹ç±»åˆ«': predicted_class,
            'ç½®ä¿¡åº¦': round(prob, 4)
        })
        class_counts[predicted_class] += 1

    # ä¿å­˜ç»“æœåˆ° Excel
    df = pd.DataFrame(records)
    count_df = pd.DataFrame([
        {'é¢„æµ‹ç±»åˆ«': k, 'å›¾ç‰‡æ•°é‡': v}
        for k, v in sorted(class_counts.items(), key=lambda x: -x[1])
    ])
    output_excel = os.path.join(dst_dir, 'result.xlsx')
    with pd.ExcelWriter(output_excel) as writer:
        df.to_excel(writer, index=False, sheet_name='åˆ†ç±»ç»“æœ')
        count_df.to_excel(writer, index=False, sheet_name='ç±»åˆ«æ±‡æ€»')

    print(f'\nâœ… åˆ†ç±»å®Œæˆï¼Œç»“æœä¿å­˜åœ¨ {output_excel}')
    print(f'ğŸ“ åˆ†ç±»åçš„æ–‡ä»¶ä½äº: {dst_dir}')

# === å‘½ä»¤è¡Œå…¥å£ ===
if __name__ == '__main__':
    import argparse
    parser = argparse.ArgumentParser(description='å¯¹å›¾åƒè¿›è¡Œåˆ†ç±»å¹¶å¤åˆ¶åˆ°å¯¹åº”ç±»åˆ«ç›®å½•')
    parser.add_argument('--src', default=r'G:\Dataset\Image\images', help='åŸå§‹å›¾åƒè·¯å¾„')
    parser.add_argument('--dst', default=r'G:\Dataset\Image\tag', help='åˆ†ç±»ç»“æœä¿å­˜è·¯å¾„')
    args = parser.parse_args()

    organize_images_by_class(args.src, args.dst)
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/tu-xiang-fen-lei-jiao-ben.html</guid><pubDate>Sun, 20 Jul 2025 04:49:00 +0000</pubDate></item><item><title>typecho å¯†ç å¿˜è®°å¯†ç  sqlite æ•°æ®åº“</title><link>https://feeday.cn/post/typecho%20-mi-ma-wang-ji-mi-ma-%20sqlite%20-shu-ju-ku.html</link><description>åšå®¢å¿˜è®°äº†å¯†ç å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æ‰¾å›å¯†ç ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/typecho%20-mi-ma-wang-ji-mi-ma-%20sqlite%20-shu-ju-ku.html</guid><pubDate>Sun, 20 Jul 2025 04:48:22 +0000</pubDate></item><item><title>åœ¨çº¿æ–‡ä»¶åŠ å¯†è§£å¯†</title><link>https://feeday.cn/post/zai-xian-wen-jian-jia-mi-jie-mi.html</link><description>huggingface  spaces gradio

## requirements.txt
```
gradio
cryptography
```

## app.py

```
import gradio as gr
from cryptography.fernet import Fernet
import os

# AES åŠ å¯†å‡½æ•°ï¼ˆFernet å®ç°ï¼‰
def encrypt_file_gr(file):
    file_path = file.name
    key = Fernet.generate_key()
    cipher = Fernet(key)
    with open(file_path, 'rb') as f:
        data = f.read()
    encrypted_data = cipher.encrypt(data)
    enc_path = file_path + '.enc'
    with open(enc_path, 'wb') as f:
        f.write(encrypted_data)
    return key.decode(), enc_path

# AES è§£å¯†å‡½æ•°ï¼Œæ¢å¤åŸå§‹æ–‡ä»¶åå’Œæ ¼å¼
def decrypt_file_gr(file, key):
    file_path = file.name
    cipher = Fernet(key.encode())
    try:
        with open(file_path, 'rb') as f:
            encrypted_data = f.read()
        decrypted_data = cipher.decrypt(encrypted_data)
        # å»æ‰ .enc åç¼€ï¼Œæ¢å¤åŸå§‹æ–‡ä»¶å
        if file_path.lower().endswith('.enc'):
            dec_path = file_path[:-4]
        else:
            dec_path = file_path + '.dec'
        with open(dec_path, 'wb') as f:
            f.write(decrypted_data)
        return dec_path
    except Exception:
        return None

# Gradio ç•Œé¢è®¾è®¡
with gr.Blocks() as demo:
    gr.Markdown('# æ–‡ä»¶åŠ å¯†è§£å¯†å·¥å…·')

    with gr.Tab('åŠ å¯†'):
        encrypt_in = gr.File(label='ä¸Šä¼ æ–‡ä»¶')
        encrypt_btn = gr.Button('åŠ å¯†æ–‡ä»¶ ğŸ”’')
        # æ–‡æœ¬æ¡†æ˜¾ç¤ºå¯†é’¥å¹¶æä¾›å¤åˆ¶æŒ‰é’®
        encrypt_key = gr.Textbox(label='ç”Ÿæˆçš„å¯†é’¥', interactive=False, show_copy_button=True)
        encrypt_out = gr.File(label='ä¸‹è½½åŠ å¯†æ–‡ä»¶ (.enc)')
        encrypt_btn.click(
            fn=encrypt_file_gr,
            inputs=encrypt_in,
            outputs=[encrypt_key, encrypt_out]
        )

    with gr.Tab('è§£å¯†'):
        decrypt_in = gr.File(label='ä¸Šä¼ åŠ å¯†æ–‡ä»¶ (.enc)')
        decrypt_key_in = gr.Textbox(label='è¾“å…¥å¯†é’¥')
        decrypt_btn = gr.Button('è§£å¯†æ–‡ä»¶ ğŸ”“')
        decrypt_out = gr.File(label='ä¸‹è½½è§£å¯†æ–‡ä»¶ï¼ˆåŸå§‹æ ¼å¼ï¼‰')
        decrypt_btn.click(
            fn=decrypt_file_gr,
            inputs=[decrypt_in, decrypt_key_in],
            outputs=decrypt_out
        )

if __name__ == '__main__':
    demo.launch()
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/zai-xian-wen-jian-jia-mi-jie-mi.html</guid><pubDate>Sun, 20 Jul 2025 04:47:52 +0000</pubDate></item><item><title>è§†é¢‘æå–å›¾åƒ</title><link>https://feeday.cn/post/shi-pin-ti-qu-tu-xiang.html</link><description>```
import os
import cv2
from pathlib import Path

# æŒ‡å®šè§†é¢‘æ‰€åœ¨ç›®å½•
video_dir = r'c:\video'  # ä¿®æ”¹ä¸ºä½ çš„è§†é¢‘ç›®å½•
output_dir = r'c:\img'  # ä¿å­˜å›¾ç‰‡çš„ç›®å½•

# æ¯ç§’æå–å¸§æ•°
frames_per_second = 1  # æ¯ç§’æå–1å¸§

# ç¡®ä¿è¾“å‡ºç›®å½•å­˜åœ¨
Path(output_dir).mkdir(parents=True, exist_ok=True)

# éå†æŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶
for filename in os.listdir(video_dir):
    if filename.endswith(('.mp4', '.avi', '.mov', '.mkv')):  # æ ¹æ®è§†é¢‘æ ¼å¼è°ƒæ•´
        video_path = os.path.join(video_dir, filename)

        # ä½¿ç”¨ OpenCV æ‰“å¼€è§†é¢‘æ–‡ä»¶
        cap = cv2.VideoCapture(video_path)

        # è·å–è§†é¢‘çš„å¸§ç‡
        fps = cap.get(cv2.CAP_PROP_FPS)
        print(f'è§†é¢‘ {filename} çš„å¸§ç‡: {fps} å¸§/ç§’')

        frame_count = 0
        saved_frame_count = 0

        while True:
            ret, frame = cap.read()

            # å¦‚æœè¯»å–æˆåŠŸ
            if ret:
                frame_count += 1

                # æ¯éš”ä¸€å®šå¸§æ•°ï¼ˆæ ¹æ®fpsè®¡ç®—æ¯ç§’æå–1å¸§ï¼‰
                if frame_count % int(fps / frames_per_second) == 0:
                    # ä½¿ç”¨ pathlib å¤„ç†è·¯å¾„å’Œæ–‡ä»¶å
                    image_filename = Path(filename).stem + f'_{saved_frame_count + 1}.jpg'
                    image_path = Path(output_dir) / image_filename

                    # ä¿å­˜å›¾ç‰‡
                    cv2.imwrite(str(image_path), frame)
                    saved_frame_count += 1
                    print(f'ä¿å­˜å›¾ç‰‡ï¼š{image_path}')
            else:
                break  # å¦‚æœæ²¡æœ‰æ›´å¤šå¸§å¯è¯»å–ï¼Œè·³å‡ºå¾ªç¯

        # é‡Šæ”¾è§†é¢‘å¯¹è±¡
        cap.release()

print('æ‰€æœ‰è§†é¢‘çš„å¸§æå–å®Œæ¯•ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/shi-pin-ti-qu-tu-xiang.html</guid><pubDate>Sun, 20 Jul 2025 04:47:14 +0000</pubDate></item><item><title>å¯¼å‡ºdocxæ–‡æ¡£é‡Œçš„å›¾åƒ</title><link>https://feeday.cn/post/dao-chu-docx-wen-dang-li-de-tu-xiang.html</link><description>## æ‰§è¡Œç»“æœ
```
f:/doc/
â”‚
â”œâ”€â”€ document1.docx
â”œâ”€â”€ document2.docx
â””â”€â”€ document3.docx
```

```
f:/doc/png/
â”‚
â”œâ”€â”€ document1/
â”‚   â”œâ”€â”€ document1.txt      # Contains the extracted text (e.g., 'å›¾ç‰‡ç®€ä»‹ï¼šdescription text')
â”‚   â”œâ”€â”€ document1_000001.png  # Image extracted from the document, renamed based on the corresponding text
â”‚   â”œâ”€â”€ document1_000002.png  # Another image
â”‚   â””â”€â”€ document1_000003.png  # Another image
â”‚
â”œâ”€â”€ document2/
â”‚   â”œâ”€â”€ document2.txt
â”‚   â”œâ”€â”€ document2_000001.png
â”‚   â”œâ”€â”€ document2_000002.png
â”‚   â””â”€â”€ document2_000003.png
â”‚
â””â”€â”€ document3/
    â”œâ”€â”€ document3.txt
    â”œâ”€â”€ document3_000001.png
    â”œâ”€â”€ document3_000002.png
    â””â”€â”€ document3_000003.png
```


##  å®Œæ•´ä»£ç 
```
from docx import Document
import os
import re
import shutil
 
# pip install python-docx
# pip install lxml  # é€šå¸¸ä¸å¿…éœ€ï¼Œé™¤éåœ¨å®‰è£… python-docx åå‡ºç°é—®é¢˜
 
 
def get_picture(document, paragraph):
    '''
    ä»æ®µè½ä¸­è·å–å›¾ç‰‡
    '''
    img = paragraph._element.xpath('.//pic:pic')
    if not img:
        return None
    img = img[0]
    embed = img.xpath('.//a:blip/@r:embed')[0]
    related_part = document.part.related_parts[embed]
    image = related_part.image
    return image
 
def extract_content(docx_path, output_dir):
    try:
        doc = Document(docx_path)
        base_filename = os.path.splitext(os.path.basename(docx_path))[0]
        doc_output_dir = os.path.join(output_dir, base_filename)
        os.makedirs(doc_output_dir, exist_ok=True)
        shutil.copy(docx_path, doc_output_dir)
 
        extracted_text = []
        extracted_images = []
 
        for para in doc.paragraphs:
            match = re.search(r'å›¾ç‰‡ç®€ä»‹ï¼š(.*)', para.text)
            if match:
                violation_text = match.group(1).strip() if match.group(1).strip() else 'XXX'
                extracted_text.append(violation_text)
 
            image = get_picture(doc, para)
            if image:
                blob = image.blob
                image_index = len(extracted_images) + 1
                formatted_index = f'{image_index:06d}'
                img_path = os.path.join(doc_output_dir, f'{base_filename}_{formatted_index}.png')
                extracted_images.append(img_path)
                with open(img_path, 'wb') as f:
                    f.write(blob)
 
        if extracted_text:
            text_filename = f'{base_filename}.txt'
            text_path = os.path.join(doc_output_dir, text_filename)
            with open(text_path, 'w', encoding='utf-8') as text_file:
                text_file.write('\n'.join(extracted_text))
            rename_images_based_on_text(doc_output_dir, text_path, extracted_images)
 
    except Exception as e:
        print(f'Error processing {docx_path}: {e}')
 
def rename_images_based_on_text(output_dir, text_file_path, extracted_images):
    with open(text_file_path, 'r', encoding='utf-8') as file:
        lines = file.readlines()
 
    if len(extracted_images) != len(lines):
        print(f'Error: The number of images ({len(extracted_images)}) and text lines ({len(lines)}) do not match in {output_dir}.')
        return
 
    for image_path, line in zip(extracted_images, lines):
        new_image_name = f'{os.path.splitext(image_path)[0]}_{line.strip()}{os.path.splitext(image_path)[1]}'
        os.rename(image_path, new_image_name)
        print(f'Renamed '{image_path}' to '{new_image_name}'')
 
def process_documents(folder_path, output_folder):
    if not os.path.exists(output_folder):
        os.makedirs(output_folder)
    for filename in os.listdir(folder_path):
        if filename.endswith('.docx') or filename.endswith('.doc'):
            docx_path = os.path.join(folder_path, filename)
            extract_content(docx_path, output_folder)
 
# ç¤ºä¾‹ç”¨æ³•
folder_path = 'f:/doc'
output_folder = 'f:/doc/png'
process_documents(folder_path, output_folder)
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/dao-chu-docx-wen-dang-li-de-tu-xiang.html</guid><pubDate>Sun, 20 Jul 2025 04:46:40 +0000</pubDate></item><item><title>åˆ›å»ºæŒ‡å®šå¤§å°æ–‡ä»¶</title><link>https://feeday.cn/post/chuang-jian-zhi-ding-da-xiao-wen-jian.html</link><description>è¿è¡Œ cmd æ‰§è¡Œåˆ›å»ºæ–‡æœ¬æ–‡ä»¶

```
fsutil file createnew f:\1GB.txt 1073741824
```

æ¢ç®—å•ä½

```
byte (B):1073741824
kilobyte (kB):1048576
megabyte (MB):1024
gigabyte (GB):	1
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/chuang-jian-zhi-ding-da-xiao-wen-jian.html</guid><pubDate>Sun, 20 Jul 2025 04:46:02 +0000</pubDate></item><item><title>è·å–ç½‘é¡µé“¾æ¥</title><link>https://feeday.cn/post/huo-qu-wang-ye-lian-jie.html</link><description>æ§åˆ¶å°æµè§ˆå™¨è·å–ç½‘å€
```
const links = document.getElementsByTagName('a');
// éå†æ‰€æœ‰é“¾æ¥å¹¶æŸ¥æ‰¾åŒ¹é…çš„ç½‘å€
for (const link of links) {
  const href = link.href;
  // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç±»ä¼¼çš„ç½‘å€
  const urlRegex = /https:\/\/www\.bilibili\.com\/video\/[A-Za-z0-9]+\/?/;
  if (urlRegex.test(href)) {
    console.log('åŒ¹é…åˆ°çš„ç½‘å€: ' + href);
  }
}
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/huo-qu-wang-ye-lian-jie.html</guid><pubDate>Sun, 20 Jul 2025 04:45:35 +0000</pubDate></item><item><title>æŸ¥æ‰¾æ›¿æ¢</title><link>https://feeday.cn/post/cha-zhao-ti-huan.html</link><description>æœç´¢åŒ¹é…å½“å‰ç›®å½•ä¸‹æ‰€æœ‰[æ–‡ä»¶å]æˆ–æ–‡ä»¶é‡Œçš„å†…å®¹æ‰“å°æ˜¾ç¤ºè¡Œå·
```
grep -rn 'Money' *
```

æœç´¢å¤šä¸ªæ–‡ä»¶å¹¶æŸ¥æ‰¾åŒ¹é…æ–‡æœ¬åœ¨å“ªäº›æ–‡ä»¶ä¸­ï¼š
```
grep -l 'Money' file1 file2 file3...
```

æŸ¥æ‰¾ formatting.php æ–‡ä»¶å†… lengthâ€™, 55 æ›¿æ¢ lengthâ€™, 56 :
```
sed -i s/'length', 55'/'length', 56'/g `grep 'length', 55' -rl --include='formatting.php' ./`
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/cha-zhao-ti-huan.html</guid><pubDate>Sun, 20 Jul 2025 04:45:05 +0000</pubDate></item><item><title>ç§»åˆ°æ–‡ä»¶</title><link>https://feeday.cn/post/yi-dao-wen-jian.html</link><description>### æŒ‰ç…§æŒ‡å®šæ–‡ä»¶åç§»åˆ°æ–‡ä»¶

### ç®€ä»‹
å‡è®¾ç›®å½•ä¸æ–‡ä»¶å¦‚ä¸‹ï¼š
```
H:\
â”œâ”€ data
â”‚   â”œâ”€ report1.txt
â”‚   â”œâ”€ image_fail.png
â”‚   â””â”€ sub
â”‚       â””â”€ test_error.log
â”œâ”€ list.txt
â””â”€ copy    ï¼ˆåˆå§‹ä¸ºç©ºï¼‰
```

list.txt å†…å®¹ï¼ˆæ¯è¡Œä¸€ä¸ªå…³é”®å­—ï¼‰
```
report
fail
missing
error
```

è¿è¡Œæ§åˆ¶å°è¾“å‡ºï¼š
```
âœ” å·²ç§»åŠ¨: 'report1.txt' å¯¹åº”å…³é”®å­— 'report' åˆ° 'H:\copy\report1.txt'
âœ” å·²ç§»åŠ¨: 'image_fail.png' å¯¹åº”å…³é”®å­— 'fail' åˆ° 'H:\copy\image_fail.png'
âš  æœªæ‰¾åˆ°åŒ¹é…æ–‡ä»¶ for key: 'missing'
âœ” å·²ç§»åŠ¨: 'test_error.log' å¯¹åº”å…³é”®å­— 'error' åˆ° 'H:\copy\test_error.log'
 
å…± 4 ä¸ªå…³é”®å­—ï¼ŒæˆåŠŸç§»åŠ¨ 3 ä¸ªï¼Œå¯¹åº”æ–‡ä»¶ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/yi-dao-wen-jian.html</guid><pubDate>Sun, 20 Jul 2025 04:44:19 +0000</pubDate></item><item><title>åˆ é™¤é‡å¤å›¾åƒ</title><link>https://feeday.cn/post/shan-chu-zhong-fu-tu-xiang.html</link><description>```
import os
import cv2
import numpy as np
from keras.applications.resnet50 import ResNet50, preprocess_input
 
# pip install opencv-python numpy keras tensorflow
 
def extract_image_features(image_path):
    image = cv2.imread(image_path)  # è¯»å–å›¾ç‰‡
    image = cv2.resize(image, (256, 256))  # ç¼©æ”¾å›¾ç‰‡åˆ°ç»Ÿä¸€å°ºå¯¸
    image = image[16:240, 16:240]  # è£å‰ªä¸­é—´åŒºåŸŸ(224x224)
    
    image = np.expand_dims(image, axis=0)  # æ‰©å±•ç»´åº¦ä»¥åŒ¹é…æ¨¡å‹è¾“å…¥è¦æ±‚
    image = preprocess_input(image)  # é¢„å¤„ç†å›¾ç‰‡
    
    features = model.predict(image)  # æå–ç‰¹å¾å‘é‡
    features /= np.linalg.norm(features)  # å½’ä¸€åŒ–ç‰¹å¾å‘é‡
    
    return features.flatten()  # å¹³é“ºç‰¹å¾å‘é‡
 
def delete_duplicate_images():
    current_dir = os.getcwd()  # è·å–å½“å‰ç›®å½•è·¯å¾„
    files = [f for f in os.listdir(current_dir) if os.path.isfile(os.path.join(current_dir, f))]  # è·å–å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
 
    image_features = {}
    deleted_count = 0  # è®°å½•åˆ é™¤çš„å›¾ç‰‡æ•°é‡
    duplicate_pairs = []  # ç”¨äºä¿å­˜é‡å¤å›¾ç‰‡çš„æ–‡ä»¶åå¯¹
 
    for file_name in files:
        if file_name.endswith('.jpg') or file_name.endswith('.png'):  # ç­›é€‰å‡ºå›¾ç‰‡æ–‡ä»¶
            file_path = os.path.join(current_dir, file_name)
            image_feature = extract_image_features(file_path)
 
            is_duplicate = False
            for existing_path, existing_feature in image_features.items():
                distance = np.linalg.norm(existing_feature - image_feature)  # è®¡ç®—æ¬§æ°è·ç¦»
                if distance &lt; 0.3:  # è®¾å®šé˜ˆå€¼æ¥åˆ¤æ–­ç›¸ä¼¼åº¦ï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´
                    is_duplicate = True
                    print(f'åˆ é™¤é‡å¤å›¾ç‰‡: {file_path}')
                    os.remove(file_path)
                    deleted_count += 1
                    # è®°å½•é‡å¤çš„æ–‡ä»¶åå¯¹ (å½“å‰æ–‡ä»¶åå’Œå·²æœ‰æ–‡ä»¶å)
                    duplicate_pairs.append((file_name, os.path.basename(existing_path)))
                    break
 
            if not is_duplicate:
                image_features[file_path] = image_feature
 
    # å°†é‡å¤å›¾ç‰‡æ–‡ä»¶åå¯¹ä¿å­˜åˆ°txtæ–‡ä»¶
    if duplicate_pairs:
        with open('duplicate_images.txt', 'w') as f:
            for file1, file2 in duplicate_pairs:
                f.write(f'{file1} ä¸ {file2} é‡å¤\n')
    
    print('å·²åˆ é™¤ {} å¼ é‡å¤å›¾ç‰‡'.format(deleted_count))
 
# åŠ è½½é¢„è®­ç»ƒçš„ResNet50æ¨¡å‹
model = ResNet50(weights='imagenet', include_top=False, pooling='avg')
 
delete_duplicate_images()
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/shan-chu-zhong-fu-tu-xiang.html</guid><pubDate>Sun, 20 Jul 2025 04:43:13 +0000</pubDate></item><item><title>md5å¤„ç†æ–‡ä»¶</title><link>https://feeday.cn/post/md5-chu-li-wen-jian.html</link><description>## åˆ é™¤MD5å€¼ç›¸åŒçš„æ–‡ä»¶

é€šè¿‡MD5å€¼æŠŠé‡å¤çš„æ–‡ä»¶ç§»åˆ°delæ–‡ä»¶å¤¹ï¼Œè¡¨æ ¼è®°å½•ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/md5-chu-li-wen-jian.html</guid><pubDate>Sun, 20 Jul 2025 04:42:26 +0000</pubDate></item><item><title>åŒæ­¥ä»£ç </title><link>https://feeday.cn/post/tong-bu-dai-ma.html</link><description>## å¸¸ç”¨çš„ Git å‘½ä»¤

æ›´æ–°ç«¯å£åˆ·æ–°DNS

```
git config --global http.proxy 127.0.0.1:7890
git config --global https.proxy 127.0.0.1:7890
ipconfig/flushdns
```
### ä»£ç ä»“åº“æ‹‰å–æ¨é€

- https://github.com/settings/ssh/new
- https://huggingface.co/settings/keys/add?type=ssh

æ‹‰å–ä»“åº“æœ¬åœ°åˆ°æœ¬åœ°æ¨é€åˆ°è¿œç¨‹ä»“åº“

```
git clone https://github.com/lllyasviel/Fooocus.git
git config --global user.email 'you@example.com'
git config --global user.name 'Your Name'
git remote set-url origin git@github.com:lllyasviel/Fooocus.git
ssh-keygen -t rsa -b 4096 -C 'your_email@example.com'
ssh -T git@github.com
git add . 
git commit -m 'Test' 
```

æœ¬åœ°æ¨é€åˆ°è¿œç¨‹ä»“åº“
```
git push origin main
```
è¿œç¨‹ä»“åº“åŒæ­¥åˆ°æœ¬åœ° 
```
git pull origin main  
```

### 1. **å…‹éš†è¿œç¨‹ä»“åº“**

å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```bash
git clone https://github.com/lllyasviel/Fooocus.git
```

### 2. **æ£€æŸ¥å½“å‰ Git é…ç½®**

æŸ¥çœ‹ Git çš„å…¨å±€é…ç½®ï¼Œå¦‚ç”¨æˆ·åå’Œé‚®ç®±ï¼š

```bash
git config --list
```

### 3. **æ£€æŸ¥å½“å‰çŠ¶æ€**

æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„çŠ¶æ€ï¼ˆå“ªäº›æ–‡ä»¶å·²ä¿®æ”¹ã€æœªè·Ÿè¸ªç­‰ï¼‰ï¼š

```bash
git status
```

### 4. **æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº**

å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå‡†å¤‡æäº¤ï¼š

```bash
git add &lt;file_name&gt;  # æ·»åŠ æŒ‡å®šæ–‡ä»¶
git add .  # æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
```

### 5. **æäº¤æ›´æ”¹**

æäº¤æ›´æ”¹å¹¶æ·»åŠ æäº¤ä¿¡æ¯ï¼š

```bash
git commit -m 'æè¿°æœ¬æ¬¡æäº¤çš„å†…å®¹'
```

### 6. **æ¨é€è¿œç¨‹ä»“åº“**

å°†æœ¬åœ°æ›´æ”¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š

```bash
git push origin branch-name
```

### 7. **è¿œç¨‹ä»“åº“æ›´æ–°**

æ‹‰å–è¿œç¨‹ä»“åº“çš„æ›´æ–°ï¼Œå¹¶åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼š

```bash
git pull origin branch-name
```

### 8. **æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯**

æŸ¥çœ‹å½“å‰é¡¹ç›®çš„è¿œç¨‹ä»“åº“åœ°å€ï¼š

```bash
git remote -v
```

### 9. **æŸ¥çœ‹æäº¤å†å²**

æŸ¥çœ‹æäº¤å†å²è®°å½•ï¼š

```bash
git log
```

### 10. **åˆ›å»ºæ–°åˆ†æ”¯**

åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼š

```bash
git checkout -b new-branch-name
```

### 11. **åˆ‡æ¢åˆ†æ”¯**

åˆ‡æ¢åˆ°å·²æœ‰çš„åˆ†æ”¯ï¼š

```bash
git checkout branch-name
```

### 12. **åˆå¹¶åˆ†æ”¯**

å°†å½“å‰åˆ†æ”¯åˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯ï¼š

```bash
git merge branch-name
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/tong-bu-dai-ma.html</guid><pubDate>Sun, 20 Jul 2025 04:41:37 +0000</pubDate></item><item><title>æŸ¥æ‰¾ä»£ç </title><link>https://feeday.cn/post/cha-zhao-dai-ma.html</link><description>## Windows æŸ¥æ‰¾
```
Get-ChildItem -Recurse -File | Select-String -Pattern '56'
```
## Bash æŸ¥æ‰¾
æœç´¢åŒ¹é…å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åæˆ–æ–‡ä»¶é‡Œçš„å†…å®¹æ‰“å°æ˜¾ç¤ºè¡Œå·
```
grep -rn 'Money' *
```
æœç´¢å¤šä¸ªæ–‡ä»¶å¹¶æŸ¥æ‰¾åŒ¹é…æ–‡æœ¬åœ¨å“ªäº›æ–‡ä»¶ä¸­ï¼š
```
grep -l 'Money' file1 file2 file3...
```
æŸ¥æ‰¾ formatting.php æ–‡ä»¶å†… lengthâ€™, 55 æ›¿æ¢ lengthâ€™, 56 :

```
sed -i s/'length', 55'/'length', 56'/g `grep 'length', 55' -rl --include='formatting.php' ./`
```ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/cha-zhao-dai-ma.html</guid><pubDate>Sun, 20 Jul 2025 04:40:46 +0000</pubDate></item><item><title>NextChat</title><link>https://feeday.cn/post/NextChat.html</link><description>

âœ¨ Light and Fast AI Assistant,with Claude, DeepSeek, GPT4 &amp; Gemini Pro support. 


[NextChatAI](https://nextchat.club?utm_source=readme) / [Web App Demo](https://app.nextchat.dev) / [Desktop App](https://github.com/Yidadaa/ChatGPT-Next-Web/releases) / [Discord](https://discord.gg/YCkeafCafC) / [Enterprise Edition](#enterprise-edition) / [Twitter](https://twitter.com/NextChatDev)


[saas-url]: https://nextchat.club?utm_source=readme
[saas-image]: https://img.shields.io/badge/NextChat-Saas-green?logo=microsoftedge
[web-url]: https://app.nextchat.dev/
[download-url]: https://github.com/Yidadaa/ChatGPT-Next-Web/releases
[Web-image]: https://img.shields.io/badge/Web-PWA-orange?logo=microsoftedge
[Windows-image]: https://img.shields.io/badge/-Windows-blue?logo=windows
[MacOS-image]: https://img.shields.io/badge/-MacOS-black?logo=apple
[Linux-image]: https://img.shields.io/badge/-Linux-333?logo=ubuntu

[&lt;img src='https://zeabur.com/button.svg' alt='Deploy on Zeabur' height='30'&gt;](https://zeabur.com/templates/ZBUEFA) [&lt;img src='https://vercel.com/button' alt='Deploy on Vercel' height='30'&gt;](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web&amp;env=OPENAI_API_KEY&amp;env=CODE&amp;project-name=nextchat&amp;repository-name=NextChat)  [&lt;img src='https://gitpod.io/button/open-in-gitpod.svg' alt='Open in Gitpod' height='30'&gt;](https://gitpod.io/#https://github.com/ChatGPTNextWeb/NextChat) 

[&lt;img src='https://github.com/user-attachments/assets/903482d4-3e87-4134-9af1-f2588fa90659' height='50' width='' &gt;](https://monica.im/?utm=nxcrp)



## Dokploy

Dokploy æ˜¯ä¸€ä¸ªå…è´¹çš„ã€å¯è‡ªæ‰˜ç®¡çš„å¹³å°å³æœåŠ¡ ï¼ˆPaaSï¼‰ï¼Œå¯ç®€åŒ–åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“çš„éƒ¨ç½²å’Œç®¡ç†ã€‚</description><guid isPermaLink="true">https://feeday.cn/post/NextChat.html</guid><pubDate>Sat, 19 Jul 2025 20:47:38 +0000</pubDate></item><item><title>åˆ›å»ºåšå®¢</title><link>https://feeday.cn/post/chuang-jian-bo-ke.html</link><description>## å®‰è£…æ­¥éª¤

1. ã€åˆ›å»ºä»“åº“ã€‘ç‚¹å‡»[é€šè¿‡æ¨¡æ¿åˆ›å»ºä»“åº“](https://github.com/new?template_name=Gmeek-template&amp;template_owner=Meekdai)ï¼Œå»ºè®®ä»“åº“åç§°ä¸º`XXX.github.io`ï¼Œå…¶ä¸­`XXX`ä¸ºä½ çš„githubç”¨æˆ·åã€‚</description><guid isPermaLink="true">https://feeday.cn/post/chuang-jian-bo-ke.html</guid><pubDate>Sat, 19 Jul 2025 17:50:50 +0000</pubDate></item></channel></rss>