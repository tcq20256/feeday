huggingface  spaces gradio

## requirements.txt
```
gradio
cryptography
```

## app.py

```
import gradio as gr
from cryptography.fernet import Fernet
import os

# AES åŠ å¯†å‡½æ•°ï¼ˆFernet å®ç°ï¼‰
def encrypt_file_gr(file):
    file_path = file.name
    key = Fernet.generate_key()
    cipher = Fernet(key)
    with open(file_path, 'rb') as f:
        data = f.read()
    encrypted_data = cipher.encrypt(data)
    enc_path = file_path + '.enc'
    with open(enc_path, 'wb') as f:
        f.write(encrypted_data)
    return key.decode(), enc_path

# AES è§£å¯†å‡½æ•°ï¼Œæ¢å¤åŸå§‹æ–‡ä»¶åå’Œæ ¼å¼
def decrypt_file_gr(file, key):
    file_path = file.name
    cipher = Fernet(key.encode())
    try:
        with open(file_path, 'rb') as f:
            encrypted_data = f.read()
        decrypted_data = cipher.decrypt(encrypted_data)
        # å»æ‰ .enc åç¼€ï¼Œæ¢å¤åŸå§‹æ–‡ä»¶å
        if file_path.lower().endswith('.enc'):
            dec_path = file_path[:-4]
        else:
            dec_path = file_path + '.dec'
        with open(dec_path, 'wb') as f:
            f.write(decrypted_data)
        return dec_path
    except Exception:
        return None

# Gradio ç•Œé¢è®¾è®¡
with gr.Blocks() as demo:
    gr.Markdown("# æ–‡ä»¶åŠ å¯†è§£å¯†å·¥å…·")

    with gr.Tab("åŠ å¯†"):
        encrypt_in = gr.File(label="ä¸Šä¼ æ–‡ä»¶")
        encrypt_btn = gr.Button("åŠ å¯†æ–‡ä»¶ ğŸ”’")
        # æ–‡æœ¬æ¡†æ˜¾ç¤ºå¯†é’¥å¹¶æä¾›å¤åˆ¶æŒ‰é’®
        encrypt_key = gr.Textbox(label="ç”Ÿæˆçš„å¯†é’¥", interactive=False, show_copy_button=True)
        encrypt_out = gr.File(label="ä¸‹è½½åŠ å¯†æ–‡ä»¶ (.enc)")
        encrypt_btn.click(
            fn=encrypt_file_gr,
            inputs=encrypt_in,
            outputs=[encrypt_key, encrypt_out]
        )

    with gr.Tab("è§£å¯†"):
        decrypt_in = gr.File(label="ä¸Šä¼ åŠ å¯†æ–‡ä»¶ (.enc)")
        decrypt_key_in = gr.Textbox(label="è¾“å…¥å¯†é’¥")
        decrypt_btn = gr.Button("è§£å¯†æ–‡ä»¶ ğŸ”“")
        decrypt_out = gr.File(label="ä¸‹è½½è§£å¯†æ–‡ä»¶ï¼ˆåŸå§‹æ ¼å¼ï¼‰")
        decrypt_btn.click(
            fn=decrypt_file_gr,
            inputs=[decrypt_in, decrypt_key_in],
            outputs=decrypt_out
        )

if __name__ == "__main__":
    demo.launch()
```